<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Window Controller</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        background-color: #f4f6f8;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
      }
      .controls {
        background: #fff;
        padding: 30px;
        border-radius: 10px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        display: flex;
        flex-direction: column;
        gap: 15px;
      }
      button {
        padding: 10px 20px;
        font-size: 16px;
        border: none;
        background-color: #007bff;
        color: white;
        border-radius: 5px;
        cursor: pointer;
      }
      button:hover {
        background-color: #0056b3;
      }
    </style>
  </head>
  <body>
    <div class="controls">
      <button onclick="openMovingWin()">Open Moving Window</button>
      <button onclick="closeMovingWin()">Close Moving Window</button>
      <button onclick="openScrolledWin()">Open Scrolled Window</button>
      <button onclick="closeScrolledWin()">Close Scrolled Window</button>
    </div>

    <script>
      let moveWin;
      let moveWinTime;
      function openMovingWin() {
        moveWin = window.open("./move.html", "", "width=150,height=150");
        moveWin.focus();
        moveWin.resizeTo(150, 150);
        moveWin.moveTo(0, 0);
        let speed = 20;
        let positionX = 0;
        let positionY = 0;
        moveWinTime = setInterval(() => {
          positionX += speed;
          positionY += speed;
          if (positionX <= 0 || positionX >= window.innerWidth - 50) {
            speed = speed;
          }
          if (positionY <= 0 || positionY >= window.innerHeight - 50) {
            speed = -speed;
          }
          moveWin.moveTo(positionX, positionY);
          console.log(`Moving window to: ${positionX}, ${positionY}`);
        }, 50);
      }
      function closeMovingWin() {
        moveWin.close();
        clearInterval(moveWinTime);
      }

      let scrolledWin;
      let scrolledWinTime;
      function openScrolledWin() {
        scrolledWin = window.open(
          "./scroll.html",
          "",
          "width=150,height=150,scrollbars=yes"
        );
        scrolledWin.focus();
        scrolledWin.resizeTo(500, 500);
        scrolledWin.moveTo(0, 0);
        let speed = 20;
        let scrollPosition = 0;
        scrolledWinTime = setInterval(() => {
          scrollPosition += speed;
          scrolledWin.scrollTo(0, scrollPosition);
          if (scrollPosition >= scrolledWin.document.body.scrollHeight) {
            clearInterval(scrolledWinTime);
            scrollPosition = scrolledWin.document.body.scrollHeight;
          }
        }, 50);
      }
      function closeScrolledWin() {
        scrolledWin.close();
      }
    </script>
  </body>
</html>
